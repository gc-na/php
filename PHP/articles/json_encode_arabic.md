<!--
Meta Description: # json_encode في PHP: تحويل المصفوفات والكائنات إلى JSON ## ملخص `json_encode` هي دالة في PHP تُستخدم لتحويل بيانات المصفوفات والكائنات إلى تنسيق JSON...
Meta Keywords: json, json_encode, البيانات, name, age
-->

# json_encode في PHP: تحويل المصفوفات والكائنات إلى JSON

## ملخص
`json_encode` هي دالة في PHP تُستخدم لتحويل بيانات المصفوفات والكائنات إلى تنسيق JSON، مما يسهل تبادل البيانات بين الخادم والعميل.

## الوثائق
### الغرض
تعمل دالة `json_encode` على تحويل البيانات المُعطاة (مثل المصفوفات أو الكائنات) إلى سلسلة نصية بصيغة JSON. يعتبر JSON تنسيقًا شائعًا لتبادل البيانات، وهو مدعوم بشكل واسع في تطبيقات الويب.

### الاستخدام
الصيغة العامة لاستخدام `json_encode` هي كالتالي:
```php
string json_encode(mixed $value[, int $options = 0]);
```
- **$value**: القيمة التي تريد تحويلها إلى JSON، ويمكن أن تكون مصفوفة أو كائن أو قيمة بسيطة مثل سلسلة نصية أو رقم.
- **$options**: خيارات إضافية للتحكم في كيفية تشفير البيانات. يمكن أن تتضمن خيارات مثل `JSON_PRETTY_PRINT` لجعل الناتج أكثر قابلية للقراءة.

### التفاصيل
تدعم `json_encode` عدة أنواع من البيانات، بما في ذلك:
- المصفوفات (arrays)
- الكائنات (objects)
- القيم البسيطة (مثل الأرقام والسلاسل النصية)

تدعم الدالة أيضًا بعض الخيارات مثل:
- `JSON_PRETTY_PRINT`: لتنسيق الناتج بشكل مرتب.
- `JSON_UNESCAPED_UNICODE`: للحفاظ على الأحرف غير الإنجليزية دون ترميز.

## أمثلة
### مثال 1: تحويل مصفوفة إلى JSON
```php
$array = array("name" => "Ali", "age" => 25);
$json = json_encode($array);
echo $json; // {"name":"Ali","age":25}
```

### مثال 2: تحويل كائن إلى JSON
```php
class Person {
    public $name;
    public $age;

    function __construct($name, $age) {
        $this->name = $name;
        $this->age = $age;
    }
}

$person = new Person("Sara", 30);
$json = json_encode($person);
echo $json; // {"name":"Sara","age":30}
```

### مثال 3: استخدام خيارات إضافية
```php
$array = array("name" => "Omar", "age" => 28);
$json = json_encode($array, JSON_PRETTY_PRINT);
echo $json; 
/*
{
    "name": "Omar",
    "age": 28
}
*/
```

## الشرح
### الأخطاء الشائعة
- **فشل تحويل البيانات**: قد تفشل `json_encode` في تحويل البيانات إذا كانت تحتوي على موارد غير قابلة للتحويل، مثل الكائنات من نوع `resource`.
- **ترميز غير صحيح**: تأكد من أن النصوص المُدخلة مُشفرة بشكل صحيح (مثل UTF-8)، حيث يمكن أن تتسبب الأحرف غير المتوافقة في فشل الدالة.
- **استعمال الخيارات بشكل غير صحيح**: تأكد من أنك تستخدم الخيارات الصحيحة عند الحاجة، حيث يمكن أن تؤثر على الناتج.

### ملاحظات إضافية
- إذا كانت الدالة تفشل في تحويل البيانات، يمكنك استخدام `json_last_error()` للحصول على معلومات عن الخطأ.
- تذكر أن الناتج سيكون دائمًا سلسلة نصية، لذا تأكد من التعامل مع النتائج بشكل مناسب.

## ملخص بسيط
`json_encode` في PHP تُستخدم لتحويل المصفوفات والكائنات إلى سلسلة نصية بصيغة JSON لتسهيل تبادل البيانات.