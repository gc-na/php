<!--
Meta Description: # PHP의 clone: 객체 복제의 모든 것 ## 개요 PHP에서 `clone` 키워드는 객체를 복제할 때 사용됩니다. 이는 객체의 깊은 복사를 생성하여 원본 객체와 별개의 인스턴스를 만들어 줍니다. 이 기능은 객체 지향 프로그래밍에서 매우 유용하게 활용됩니다. ##...
Meta Keywords: clone, name, 객체의, 객체가, 키워드는
-->

# PHP의 clone: 객체 복제의 모든 것

## 개요
PHP에서 `clone` 키워드는 객체를 복제할 때 사용됩니다. 이는 객체의 깊은 복사를 생성하여 원본 객체와 별개의 인스턴스를 만들어 줍니다. 이 기능은 객체 지향 프로그래밍에서 매우 유용하게 활용됩니다.

## 문서화

### 목적
`clone` 키워드는 PHP에서 객체의 복사본을 생성하기 위해 사용됩니다. 객체가 참조를 기반으로 동작하기 때문에, 단순히 대입하는 것만으로는 원본 객체와 동일한 참조를 공유하게 됩니다. `clone`을 사용하면 새로운 메모리 공간에 복사된 객체가 생성되어 원본 객체와 독립적으로 조작할 수 있습니다.

### 사용법
`clone` 키워드는 객체를 복제하기 위해 다음과 같이 사용됩니다:

```php
$newObject = clone $originalObject;
```

### 세부 정보
- **복제의 깊이**: `clone`을 사용할 때, 객체 내에 다른 객체가 포함되어 있을 경우, 이들 객체도 복사됩니다. 그러나 기본 데이터 타입(정수, 문자열 등)은 값으로 복사됩니다.
- **복제 생성자**: 복제 시, `__clone()` 메소드를 정의하여 복제 객체의 초기화 작업을 수행할 수 있습니다. 이 메소드는 `clone` 키워드가 호출된 후에 자동으로 실행됩니다.

## 예제

### 기본 사용 예제

```php
class Person {
    public $name;
    
    public function __construct($name) {
        $this->name = $name;
    }
    
    public function __clone() {
        // 복제 시 추가적인 작업이 필요하다면 이곳에서 처리
    }
}

$original = new Person("John");
$clone = clone $original;

echo $original->name; // John
echo $clone->name;    // John

$clone->name = "Doe";
echo $original->name; // John (변경되지 않음)
echo $clone->name;    // Doe (변경됨)
```

## 설명
- **공통적인 문제점**: `clone`을 사용할 때, 객체 내부에 배열이나 객체가 포함되어 있는 경우, 이들 역시 참조로 복사됩니다. 따라서 복제된 객체의 속성을 변경하면 원본 객체에도 영향을 미칠 수 있습니다. 이를 방지하기 위해서는 깊은 복사가 필요하며, 이를 위해 `__clone()` 메소드를 구현하여 각 속성을 수동으로 복사해야 합니다.
  
- **가비지 컬렉션**: `clone`으로 생성된 객체는 원본 객체와는 별개의 인스턴스이므로, 두 객체가 각각의 생명 주기를 가집니다. 따라서, 가비지 컬렉터가 두 객체를 개별적으로 관리합니다.

## 한 줄 요약
PHP의 `clone` 키워드는 객체의 독립적인 복사본을 생성하여 원본 객체와의 참조를 분리합니다.